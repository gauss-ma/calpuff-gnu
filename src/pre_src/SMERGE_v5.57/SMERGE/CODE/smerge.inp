-------------------------------------------------------------------------------

                 SMERGE PROCESSOR CONTROL FILE
                 -----------------------------

  CALMET accepts data for a number of 'surface meteorology stations' 
  in a single SURF.DAT file.  SMERGE creates this file from several
  single-station files of hourly data.  Use SMERGE one or more times
  to build the SURF.DAT file.

-------------------------------------------------------------------------------

INPUT GROUP: 0 -- Input and Output Files
--------------

-------------
Subgroup (0a)
-------------

     Number of formatted Surface Station files provided
     in Subgroup 0b.  Up to MXFF are allowed in 1 application,
     although this may be limited by your operating system.
     MXFF is set in PARAMS.SMG, which is compiled into SMERGE.EXE.
     (NFF)                      No Default      ! NFF = 1 !


     Other Input and Output files:
     -----------------------------

     Default Name  Type          File Name
     ------------  ----          ---------
     PREV.DAT      input    ! PREVDAT =firstrun.dat !
     SURF.DAT      output   ! SURFDAT =surf2.dat     !
     SMERGE.LST    output   ! RUNLST  =smerge2.lst  !

     All file names will be converted to lower case if LCFILES = T
     Otherwise, if LCFILES = F, file names will be converted to UPPER CASE
     (LCFILES)                  Default: T      ! LCFILES = F !
        T = lower case
        F = UPPER CASE

     NOTE: file/path names can be up to 70 characters in length

!END!


-------------
Subgroup (0b)
-------------

     The following NFF formatted Surface Station files are processed.
     Enter NFF 4-line groups identifying the file name (SFCMET), the
     station number (IFSTN), the station elevation (optional) in meters
     (XELEV), and the time zone of the data (XSTZ) for each file,
     followed by a group terminator.

     NOTE:  XSTZ identifies the time zone used in the dataset.  The
            TD3505 and TD9956 data are prepared in UTC time rather than
            local time, so XSTZ=0. is expected for these.

     The optional station elevation is a default value used to calculate
     a station pressure from altimeter or sea-level pressure if the
     station presure is missing and the station elevation is missing in
     the file.  If XELEV is not assigned a value (i.e., XELEV does not
     appear in this control file), no default elevation is available and
     station pressure remains missing.

     1    ! SFCMET = e:\metar\03017.144 !
     1    ! IFSTN  = 03017   !
     1    ! XELEV  = 91.         !
     1    ! XSTZ   = 5.            !   !END!


--------------------------------------------------------------------------------

INPUT GROUP: 1 -- Run control parameters
--------------

 --- Processing Period ---

     Starting date:   Year (IBYR) -- No default       ! IBYR = 1997  !
                     Month (IBMO) -- No default       ! IBMO =  1  !
                       Day (IBDY) -- No default       ! IBDY =  1  !
              [00-23] Hour (IBHR) -- No default       ! IBHR =  0  !

     Ending date:     Year (IEYR) -- No default       ! IEYR = 1997  !
                     Month (IEMO) -- No default       ! IEMO =  12 !
                       Day (IEDY) -- No default       ! IEDY = 31  !
              [00-23] Hour (IEHR) -- No default       ! IEHR =  23  !

     Base time zone        (XBTZ) -- No default       ! XBTZ   = 5. !
        PST = 8., MST = 7.
        CST = 6., EST = 5.

     ---------------
     NOTE:  The hour is defined by the time at the end of the hour
            in time zone XBTZ.


 --- File Options ---

     Previous SURF.DAT file is used in this run?
     (LPREV)                    No Default      ! LPREV = F !
        T = PREV.DAT file is used
        F = PREV.DAT file is NOT used

     Number of stations to use from previous SURF.DAT file
     (NBSTN)                    Default: 0      ! NBSTN = 0 !
        0 = Use ALL stations
       >0 = Use only those NBSTN stations listed in Input Group 2

 --- File Formats ---

     Format of previous SURF.DAT file
     (Used only if LPREV=T)
     (INFORM)                   Default: 2      ! INFORM = 2 !
        1 = Unformatted
        2 = Formatted

     Format of output SURF.DAT file
     (IOFORM)                   Default: 2      ! IOFORM = 2 !
        1 = Unformatted
        2 = Formatted
     (IOPACK)                   Default: 0      ! IOPACK = 0 !
        0 = NOT packed
        1 = Packed (used only if IOFORM=1)

     Type of ALL Surface Station files in this run
     (JDAT)                     No Default      ! JDAT = 1 !
        1 = CD144
        2 = NCDC SAMSON
        3 = NCDC HUSWO
        4 = CD144 (extended record format with precip rate)
        5 = TD3505(CD) - NCDC Integrated Surface Hourly CD-ROM Set
        6 = TD3505     - NCDC Integrated Surface Hourly Database
        7 = TD9956     - NCDC DATSAV3 Database (not abbreviated)

     Format of input HUSWO file
     (Used only if JDAT=3)
     (IHUSWO)                   Default: 1      ! IHUSWO = 1 !
        1 = All data are in English units
        2 = All data are in Metric units
        
     Calculate missing station pressure from altimeter or sea level  
     pressure?
     (applies to JDAT = 1-4; always T for JDAT = 5-7)
     (LPCALP)                  Default: F      ! LPCALC = T !  
     

!END!

--------------------------------------------------------------------------------

INPUT GROUP: 2 -- Stations used from previous SURF.DAT file
--------------

     Data for the following NBSTN stations in the previous SURF.DAT
     file identified as PREV.DAT are transferred to the new SURF.DAT
     file created in this run.  Enter NBSTN lines identifying the 
     station number (IBSTN) for each, followed by a group terminator.
     This Input Group is used only if LPREV=T and NBSTN>0.  All stations
     from a previous SURF.DAT file are transferred to the new SURF.DAT
     file if NBSTA=0.

     1    * IBSTN  = 14764         *   *END*

-------------
     Each line is treated as a separate input subgroup and therefore
     must end with an input group terminator.

